(this.webpackJsonpsyncho=this.webpackJsonpsyncho||[]).push([[8],{153:function(e,t,a){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADrSURBVHgBjZIxDoIwFIbfa8WZI3AFbyA38AgsEkdGiSEymGhw0NHBBG6CN4EjmJg4YNraohDA0viSDv37vvbv36IfJQXIql7MzQ5hCYZabpIUCcyrx3NGgEtFgDO1aO6t944RQvCAi3pOCGOuBEsT3EJClIRxNzvHd1QLK9nMKc0BwZGj7NoeQpevjs2uOtiidKuDeuAQFoDSjrB10A/YwhNaNHMOzL3uwtuwjwwFJu31GpCmusDIWHrqJFPaRAepOyl7pqdCHdQNYuyp0I+OJwkEY+lp4c+XEwsTpErpXdu1GASxrQb8WU3vG83LwRVyuVdYAAAAAElFTkSuQmCC"},168:function(e,t,a){"use strict";a(1);var c=a(2),s=a(37),n=(a(169),a(0));t.a=function(){return Object(n.jsxs)("div",{className:"sidebar",children:[Object(n.jsx)("img",{src:s.a,alt:"logo"}),Object(n.jsxs)("div",{className:"links",children:[Object(n.jsx)(c.a,{to:"/leads",className:"backLinks",activeClassName:"active",children:"Lead Management"}),Object(n.jsx)(c.a,{to:"/user",className:"backLinks",activeClassName:"active",children:"User Management"})]}),Object(n.jsx)("div",{className:"navBorder",children:Object(n.jsx)("div",{className:"border"})})]})}},169:function(e,t,a){},170:function(e,t,a){"use strict";a(1);var c=a(348),s=a(273),n=a(272),r=(a(154),a(313)),i=a(0);t.a=function(){var e=localStorage.getItem("name"),t=JSON.stringify(e);return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"drop",children:[Object(i.jsxs)("div",{className:"shown",children:[Object(i.jsx)(r.a,{name:"user circle"}),Object(i.jsx)("h1",{children:t.slice(1,-1)}),Object(i.jsx)(r.a,{name:"angle down"})]}),Object(i.jsx)(c.a,{className:"d",children:Object(i.jsx)(s.a,{children:Object(i.jsx)(n.a,{onClick:function(){localStorage.clear(),sessionStorage.clear(),window.location.href="/#top"},children:Object(i.jsx)("p",{children:"Log Out"})})})})]})})}},278:function(e,t,a){},357:function(e,t,a){"use strict";a.r(t);var c=a(34),s=a.n(c),n=a(240),r=a(44),i=a(4),l=a(1),j=a.n(l),o=a(168),u=(a(278),a(125)),d=a(153),b=a(170),O=a(313),m=a(45),h=a.n(m),A=a(0);t.default=function(){var e=Object(l.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],m=Object(l.useState)(""),x=Object(i.a)(m,2),p=x[0],f=x[1],v=Object(l.useState)(""),N=Object(i.a)(v,2),g=N[0],S=N[1],E=Object(l.useState)([]),w=Object(i.a)(E,2),C=w[0],I=w[1],y=Object(l.useState)({}),k=Object(i.a)(y,2),B=k[0],D=k[1],R=Object(l.useState)(""),L=Object(i.a)(R,2),J=L[0],F=L[1],Q=Object(l.useState)(""),V=Object(i.a)(Q,2),Z=V[0],T=V[1],U=Object(l.useState)(""),Y=Object(i.a)(U,2),z=Y[0],G=Y[1],M=Object(l.useState)(""),P=Object(i.a)(M,2),X=P[0],q=P[1],H=Object(l.useState)(0),K=Object(i.a)(H,2),W=K[0],_=K[1],$=Object(l.useState)(!1),ee=Object(i.a)($,2),te=ee[0],ae=ee[1],ce=Object(l.useState)(!1),se=Object(i.a)(ce,2),ne=se[0],re=se[1],ie=Object(l.useState)(!1),le=Object(i.a)(ie,2),je=le[0],oe=le[1],ue=Object(l.useState)(!1),de=Object(i.a)(ue,2),be=de[0],Oe=de[1],me=Object(l.useState)(!1),he=Object(i.a)(me,2),Ae=he[0],xe=he[1],pe=Object(l.useState)(!1),fe=Object(i.a)(pe,2),ve=(fe[0],fe[1]),Ne=Object(l.useState)(!1),ge=Object(i.a)(Ne,2),Se=ge[0],Ee=ge[1],we=Object(l.useState)(!1),Ce=Object(i.a)(we,2),Ie=Ce[0],ye=Ce[1];j.a.useEffect((function(){var e=setTimeout((function(){S(p)}),1e3);return function(){return clearTimeout(e)}}),[p]);var ke=function(e){switch(e.target.name){case"fname":F(e.target.value),ae(!e.target.validity.valid);break;case"lname":T(e.target.value),re(!e.target.validity.valid);break;case"mail":G(e.target.value),oe(!e.target.validity.valid)}},Be=function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("accessToken"),a=JSON.stringify(t),c={Authorization:"Bearer ".concat(a.slice(1,-1))},null!==localStorage.getItem("role")&&"admin"===localStorage.getItem("role")&&h.a.get("".concat("http://devapi.shycosafe.com/","users").concat(""!==g?"?search=".concat(g):""),{headers:c}).then((function(e){if(e){var t=e.data.data;I(Object(n.a)(t))}})).catch((function(e){console.log(e.message)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();j.a.useEffect((function(){Be()}),[]),j.a.useEffect((function(){Be()}),[g]);var De=function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("accessToken"),a=JSON.stringify(t),n={Authorization:"Bearer ".concat(a.slice(1,-1))},!be){e.next=14;break}return e.prev=4,e.next=7,h.a.post("".concat("http://devapi.shycosafe.com/","users"),B,{headers:n});case 7:(r=e.sent)&&(console.log(r.data.data),c(!1),F(""),T(""),G(""),q(""),D({}),window.location.reload()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),e.t0.request&&(i=JSON.parse(e.t0.request.response),console.log(i.message),q(i.message),Oe(!1));case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),Re=function(e){e.preventDefault(),/\s/.test(J)&&ae(!0),te&&ne&&je?(Oe(!1),xe(!0)):(Oe(!0),D({first_name:J,last_name:Z,email:z}),xe(!1),ve(!0))};j.a.useEffect((function(){De()}),[Re]);var Le=function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("accessToken"),a=JSON.stringify(t),c={Authorization:"Bearer ".concat(a.slice(1,-1))},!Ie){e.next=14;break}return e.prev=4,e.next=7,h.a.delete("".concat("http://devapi.shycosafe.com/","users/").concat(W),{headers:c});case 7:e.sent&&(_(0),ye(!1),window.location.reload()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}();return j.a.useEffect((function(){Le()}),[Ie]),j.a.useEffect((function(){""===p&&S("")}),[p]),Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(o.a,{}),Object(A.jsxs)("div",{className:"userMain",children:[Object(A.jsx)(b.a,{}),Object(A.jsxs)("div",{className:"contain",children:[Object(A.jsx)("h1",{children:"User Manangement"}),Object(A.jsxs)("div",{className:"Navigation",children:[Object(A.jsx)("div",{className:"links",children:Object(A.jsx)("form",{className:"searchBox",onSubmit:function(e){e.preventDefault(),S(p)},children:Object(A.jsxs)("div",{className:"text-input",children:[Object(A.jsx)("input",{value:p,className:"input",name:"search",onChange:function(e){return f(e.target.value)},pattern:"^([A-Za-z ,.'`-]{0,})$",type:"text"}),Object(A.jsx)("label",{htmlFor:"search",className:"input-placeholder",children:"Search by Name"}),Object(A.jsx)("button",{type:"submit",children:Object(A.jsx)(O.a,{name:"search"})})]})})}),Object(A.jsxs)("button",{className:"redBtn",onClick:function(){return c(!0)},children:[Object(A.jsx)(O.a,{name:"add"})," New Asst. Admin"]})]}),Object(A.jsx)("table",{className:"mainData",children:Object(A.jsxs)("tbody",{children:[Object(A.jsxs)("tr",{children:[Object(A.jsx)("th",{children:"Name"}),Object(A.jsx)("th",{children:"Email"}),Object(A.jsx)("th",{children:"Role"}),Object(A.jsx)("th",{})]}),C.map((function(e,t){return Object(A.jsxs)("tr",{children:[Object(A.jsx)("td",{children:"".concat(e.first_name," ").concat(e.last_name)}),Object(A.jsx)("td",{children:e.email}),Object(A.jsx)("td",{children:e.role.split("_").join(" ")}),Object(A.jsx)("td",{onClick:function(){Ee(!0),_(e.id)},children:e.deletable?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAASCAYAAABrXO8xAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACTSURBVHgB7ZC7DcJAEERnLyCmhEMEiIzIOZVQAx2YDtwClZATkQEBYksgJriBBfknWf4FDiy/4DQa7dOeVlDguvFeZnL6Ro8yyje364tqWsgtWjwrBptQh6ERe+7RcgeGhIJ5w7wKXLw6P46/rxIhbiEZHgiJBZcX7SD+C3ofZxJHJArx6uBoJgZwnxZ12AKSB8sf7P0nJPvgqFIAAAAASUVORK5CYII=",alt:"delete"}),"Delete"]}):null})]},t)}))]})}),Object(A.jsx)(u.a,{className:"modalAdmin",open:a,onClose:function(){c(!1),F(""),T(""),G(""),q(""),D({})},children:Object(A.jsxs)("div",{className:"box",children:[Object(A.jsxs)("div",{className:"head",children:[Object(A.jsxs)("div",{className:"heading",children:[Object(A.jsx)("h1",{children:"Add New Asst. Admin"}),Object(A.jsx)("p",{children:"Please fill in the details. "})]}),Object(A.jsx)("img",{className:"img",src:d.a,alt:"cancel",onClick:function(){c(!1),F(""),T(""),G(""),q(""),D({})}})]}),Object(A.jsxs)("form",{className:"enterData",onSubmit:Re,children:[Object(A.jsxs)("div",{className:"textInside",children:[Object(A.jsxs)("div",{className:"textInput",children:[Object(A.jsxs)("div",{className:"text-input",children:[Object(A.jsx)("input",{value:J,className:"input",name:"fname",pattern:"^([A-Za-z ,.'`-]{2,30})$",onChange:ke,type:"text",required:!0}),Object(A.jsx)("label",{htmlFor:"fname",className:"input-placeholder",children:"First Name"})]}),te?Object(A.jsx)("p",{className:"error-text",children:"PLEASE PROVIDE A VALID FIRST NAME"}):null]}),Object(A.jsxs)("div",{className:"textInput",children:[Object(A.jsxs)("div",{className:"text-input",children:[Object(A.jsx)("input",{value:Z,className:"input",name:"lname",pattern:"^([A-Za-z ,.'`-]{2,30})$",onChange:ke,type:"text",required:!0}),Object(A.jsx)("label",{htmlFor:"lname",className:"input-placeholder",children:"Last Name"})]}),ne?Object(A.jsx)("p",{className:"error-text",children:"PLEASE PROVIDE A VALID LAST NAME"}):null]})]}),Object(A.jsxs)("div",{className:"textInput",children:[Object(A.jsxs)("div",{className:"text-input",children:[Object(A.jsx)("input",{className:"input",value:z,name:"mail",onChange:ke,pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,}$",type:"email",required:!0}),Object(A.jsx)("label",{htmlFor:"mail",className:"input-placeholder",children:"Email"})]}),je?Object(A.jsx)("p",{className:"error-text",children:"PLEASE PROVIDE A VALID EMAIL"}):null,""!==X?Object(A.jsx)("p",{className:"error-text",style:{fontSize:"16px"},children:X}):null]}),Object(A.jsxs)("div",{className:"btnGrp",children:[Object(A.jsx)("button",{className:"noOutline",onClick:function(){c(!1),F(""),T(""),G(""),q(""),D({})},children:"Cancel"}),Object(A.jsx)("button",{disabled:!!(te||ne||je),className:"redBtn",type:"submit",children:"Add"})]}),Ae?Object(A.jsx)("p",{className:"error-text",children:"PLEASE PROVIDE A VALID DATA."}):null]})]})}),Object(A.jsx)(u.a,{className:"modalAdmin",open:Se,onClose:function(){Ee(!1)},children:Object(A.jsxs)("div",{className:"box",children:[Object(A.jsxs)("div",{className:"head",children:[Object(A.jsx)("div",{className:"heading",children:Object(A.jsx)("h1",{children:"Confirmation"})}),Object(A.jsx)("img",{className:"img",src:d.a,alt:"cancel",onClick:function(){return Ee(!1)}})]}),Object(A.jsx)("div",{className:"body",children:Object(A.jsx)("p",{children:"Are you sure you want to delete this user as assistant admin?"})}),Object(A.jsxs)("div",{className:"btnGrp",children:[Object(A.jsx)("button",{className:"noOutline",onClick:function(){return Ee(!1)},children:"Cancel"}),Object(A.jsx)("button",{className:"redBtn",onClick:function(){return ye(!0)},children:"Delete"})]})]})})]})]})]})}}}]);
//# sourceMappingURL=8.cb586a0d.chunk.js.map